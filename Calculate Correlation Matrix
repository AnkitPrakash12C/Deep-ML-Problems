import numpy as np

def calculate_correlation_matrix(X, Y=None):
	
    X = np.asarray(X, dtype=float)

    if Y is None:
        return np.corrcoef(X, rowvar=False)
    else:
        Y = np.asarray(Y, dtype=float)

        combined = np.hstack((X, Y))
        corr = np.corrcoef(combined, rowvar=False)

        nx = X.shape[1]
        return corr[:nx, nx:]
	pass
